<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Agregar campos de frases FEL al formulario de journal -->
    <record id="view_account_journal_form_inherit_fel_phrases" model="ir.ui.view">
        <field name="name">account.journal.form.fel.phrases</field>
        <field name="model">account.journal</field>
        <field name="inherit_id" ref="account.view_account_journal_form"/>
        <field name="priority">100</field>
        <field name="arch" type="xml">
            <!-- Agregar grupo de frases FEL en journals de venta -->
            <xpath expr="//page[@name='advanced_settings']" position="inside">
                <group string="Configuración FEL Guatemala" name="fel_gt_settings"
                       invisible="type != 'sale'">
                    <group>
                        <field name="l10n_gt_edi_auto_certify"/>
                        <field name="l10n_gt_edi_use_journal_phrases"/>
                    </group>
                    <group invisible="not l10n_gt_edi_use_journal_phrases">
                        <field name="l10n_gt_edi_phrase_ids" widget="many2many_tags"
                               placeholder="Seleccione las frases FEL..."/>
                    </group>
                    <div class="alert alert-warning" role="alert"
                         invisible="not l10n_gt_edi_auto_certify">
                        <i class="fa fa-exclamation-triangle"/> Las facturas de este diario se
                        <strong>certificarán automáticamente en FEL</strong> al confirmar.
                    </div>
                    <div class="alert alert-info" role="alert"
                         invisible="not l10n_gt_edi_use_journal_phrases">
                        <strong>Nota:</strong> Las frases configuradas aquí tendrán
                        <strong>prioridad</strong> sobre las frases de la compañía y del cliente.
                    </div>
                </group>
            </xpath>
        </field>
    </record>
</odoo>
